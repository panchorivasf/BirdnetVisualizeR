% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/calendar_heatmap2.R
\name{calendar_heatmap2}
\alias{calendar_heatmap2}
\title{Create a heatmap of bird vocal activity by month and hour of the day}
\usage{
calendar_heatmap2(
  df,
  species = NULL,
  background_color = "transparent",
  save_png = TRUE,
  prefix = "",
  height = 8,
  width = 15
)
}
\arguments{
\item{df}{A data frame containing bird detection data. Must include a
'datetime' column with POSIXct dates, and either 'Scientific.name' or
'Common.name' columns if filtering by species.}

\item{species}{Optional character string specifying the species to plot. Can be
either the scientific name or common name (must match values in the data).
If NULL (default), includes all species in the data.}

\item{background_color}{Character string specifying the color for tiles with
no detections (count = 0). Default is "transparent".}

\item{save_png}{Logical. Whether to save plot as png.}

\item{prefix}{Characer. Prefix for file name.}

\item{height}{Numeric. Height in inches.}

\item{width}{Numeric. Width in inches.}
}
\value{
A ggplot object displaying the vocal activity heatmap. The x-axis
shows hours of the day (0-23), the y-axis shows months, and tile color
represents the count of vocalizations. Months without any data are shown
in light grey.
}
\description{
This function generates a heatmap visualization showing patterns of bird
vocal activity across different hours of the day and months of the year.
The heatmap uses color intensity to represent the frequency of detected
vocalizations.
}
\details{
The function:
\itemize{
  \item Filters data for the specified species (if provided)
  \item Aggregates detections by month and hour
  \item Creates a complete grid of all month-hour combinations
  \item Generates a heatmap using viridis color scale
  \item Shows months without data in light grey
  \item Uses user-specified background color for no detections
}
}
\examples{
\dontrun{
# Plot vocal activity for a specific species
calendar_heatmap2(df = BirdnetDetections, species= "Anthus hodgsoni")

# Plot vocal activity for all species with white background
calendar_heatmap2(df = BirdnetDetections, background_color = "white")

# Plot with light blue background for zero detections
calendar_heatmap2(df = BirdnetDetections, background_color = "lightblue")
}

}
